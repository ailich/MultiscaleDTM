<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Multi-Scale Geomorphometric Terrain Attributes • MultiscaleDTM</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Multi-Scale Geomorphometric Terrain Attributes">
<meta name="description" content="Calculates multi-scale geomorphometric terrain attributes from regularly gridded digital terrain models using a variable focal windows size (Ilich et al. (2023) &lt;doi:10.1111/tgis.13067&gt;).">
<meta property="og:description" content="Calculates multi-scale geomorphometric terrain attributes from regularly gridded digital terrain models using a variable focal windows size (Ilich et al. (2023) &lt;doi:10.1111/tgis.13067&gt;).">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">MultiscaleDTM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/README.html">README</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ailich/MultiscaleDTM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="readme">README<a class="anchor" aria-label="anchor" href="#readme"></a>
</h1></div>
<p>Alexander Ilich January 16, 2025</p>
</div>
<div class="section level1">
<h1 id="multiscaledtm">MultiscaleDTM<a class="anchor" aria-label="anchor" href="#multiscaledtm"></a>
</h1>
<!-- badges: start -->

<p>Please cite as</p>
<p>Ilich, A. R., Misiuk, B., Lecours, V., &amp; Murawski, S. A. (2023). MultiscaleDTM: An open-source R package for multiscale geomorphometric analysis. <em>Transactions in GIS</em>, <em>27</em>(4). <a href="https://doi.org/10.1111/tgis.13067" class="external-link uri">https://doi.org/10.1111/tgis.13067</a></p>
<div class="section level2">
<h2 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h2>
<p>This R package calculates multi-scale geomorphometric terrain attributes from regularly gridded digital terrain models (DTM; i.e. elevation or bathymetry rasters) via a specified window as described in <a href="http://doi.org/10.1111/tgis.13067" class="external-link">Ilich et al. (2023)</a>.</p>
<p><img src="reference/figures/kwindow.png" width="50%"></p>
<p>Figure adapted from Wilson et al. (2007)</p>
</div>
<div class="section level2">
<h2 id="install-and-load-package">Install and Load Package<a class="anchor" aria-label="anchor" href="#install-and-load-package"></a>
</h2>
<p>The package can be installed from CRAN using <code>install.packages("MultiscaleDTM")</code> or the development version can be installed from github using the code <code>remotes::install_github("ailich/MultiscaleDTM")</code>. If you are using Windows, you may need to install Rtools using the instructions found <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">here</a>). To install from github you must already have the remotes package installed, which can be installed using <code>install.packages("remotes")</code></p>
<p>This package relies on the <code>terra</code> package for handling of spatial raster data.</p>
</div>
<div class="section level2">
<h2 id="main-functions">Main Functions<a class="anchor" aria-label="anchor" href="#main-functions"></a>
</h2>
<div class="section level3">
<h3 id="slope-aspect-and-curvature">Slope, Aspect and Curvature<a class="anchor" aria-label="anchor" href="#slope-aspect-and-curvature"></a>
</h3>
<ul>
<li><p><code>SlpAsp</code> calculates multi-scale slope and aspect according to Misiuk et al (2021) which is a modification of the traditional 3 x 3 slope and aspect algorithms (Fleming and Hoffer, 1979; Horn et al., 1981; Ritter, 1987). This algorithm only considers a subset of cells within the focal window, specifically the four cells on the edge of the focal window directly up, down, left, and right of the focal cell for the “rook” method, an additional four corner cells for the “queen” method, or all edge cells for the “boundary” method. <img src="reference/figures/SlpAsp.png" width="70%"></p></li>
<li><p><code>Qfit</code> calculates slope, aspect, curvature, and morphometric features by fitting a quadratic surface to the focal window using ordinary least squares using the equation shown below where a-f are regression parameters, Z is the elevation/depth, X is the east/west coordinates in the focal window relative to the focal cell, and Y is the north/south coordinates in the focal window relative to the focal cell (Evans, 1980; Wilson et al., 2007; Wood, 1996). The morphometric features algorithm has been modified to use more robust measures of curvature based on the suggestions of Minár et al. (2020).</p></li>
</ul>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Z</mi><mo>=</mo><mi>a</mi><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><mi>c</mi><mi>X</mi><mi>Y</mi><mo>+</mo><mi>d</mi><mi>X</mi><mo>+</mo><mi>e</mi><mi>Y</mi><mo>+</mo><mi>f</mi></mrow><annotation encoding="application/x-tex">
Z = aX^2 + bY^2 +cXY+ dX +eY +f
</annotation></semantics></math></p>
<p><img src="reference/figures/Qfit_annotated.png" width="70%"></p>
<p>Figure adapted from Walbridge et al., (2018)</p>
</div>
<div class="section level3">
<h3 id="roughness">Roughness<a class="anchor" aria-label="anchor" href="#roughness"></a>
</h3>
<ul>
<li>
<code>VRM</code> - Vector ruggedness measure (Sappington et al. 2007) quantifies roughness by measuring the dispersion of vectors normal to the terrain surface. This is accomplished by calculating the local (3 x 3 cell) slope and aspect, and constructing unit vectors normal to each cell in the DTM. These unit vectors are then decomposed into their corresponding x, y, and z components (i.e. the x, y, and z coordinates of the head of the vector relative to its origin) and used in the following equation (note: N is the number of cells in the window). VRM ranges from zero to one, representing completely smooth to rough surfaces, respectively. .</li>
</ul>
<p><img src="reference/figures/VRM_annotated.png" width="70%"></p>
<p>Figure adapted from Sappington et al. (2007)</p>
<p><img src="reference/figures/VRM_focal.png" width="70%"></p>
<p>Figure adapted from Habib (2021)</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">VRM</mtext><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><msqrt><mrow><mo minsize="2.4" maxsize="2.4" stretchy="false" form="prefix">(</mo><mo>∑</mo><mi>x</mi><msup><mo minsize="2.4" maxsize="2.4" stretchy="false" form="postfix">)</mo><mn>2</mn></msup><mo>+</mo><mo minsize="2.4" maxsize="2.4" stretchy="false" form="prefix">(</mo><mo>∑</mo><mi>y</mi><msup><mo minsize="2.4" maxsize="2.4" stretchy="false" form="postfix">)</mo><mn>2</mn></msup><mo>+</mo><mo minsize="2.4" maxsize="2.4" stretchy="false" form="prefix">(</mo><mo>∑</mo><mi>z</mi><msup><mo minsize="2.4" maxsize="2.4" stretchy="false" form="postfix">)</mo><mn>2</mn></msup></mrow></msqrt><mi>N</mi></mfrac></mrow><annotation encoding="application/x-tex">
\text{VRM} = 1- \frac{\sqrt{\bigg(\sum x\bigg)^2+\bigg(\sum y\bigg)^2+\bigg(\sum z\bigg)^2}}{N}
</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">slope</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>*</mo><mi>s</mi><mi>i</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">aspect</mtext><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
x = sin(\text{slope})*sin(\text{aspect})
</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>s</mi><mi>i</mi><mi>n</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">slope</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>*</mo><mi>c</mi><mi>o</mi><mi>s</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">aspect</mtext><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
y=sin(\text{slope})*cos(\text{aspect})
</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">slope</mtext><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">
z=cos(\text{slope})
</annotation></semantics></math></p>
<ul>
<li>
<p><code>SAPA</code> - Calculates the Surface Area to Planar Area (Jenness, 2004). Rougher surfaces will have a greater surface area to planar area ratio, and perfectly smooth surfaces will have a value of 1. This is a 3D analog to the classical “chain-and-tape” method, which calculates roughness as the ratio of the contoured distance (chain length) and linear distance (tape measure distance; Risk, 1972). Additionally, planar area can be corrected for slope by dividing the product of the x and y resolution by the cosine of slope (Du Preez 2015). The metric by Jenness (2004) and De Preez (2015) works at the per cell level (1x1 cell). This function generalizes this method to multiple scales by summing the surface areas within the focal window and adjusting the planar area of the focal window using multi-scale slope (Ilich et al., 2023).</p>
<ul>
<li>
<code>SurfaceArea</code> - Calculate the surface area of each grid cell (Jenness, 2004). This is accomplished by connecting a focal cell to its immediate neighbors to create 8 large triangles. These large triangles are then trimmed back to the extent of the focal cell using the principle of similar triangles, and then the area of those 8 smaller triangles are calculated and summed to estimate the surface area of the focal pixel. This is used within <code>SAPA</code>.</li>
</ul>
</li>
</ul>
<p><img src="reference/figures/chaintape.png" width="90%"></p>
<p>Figure adapted from Friedman et al. (2012) and created with BioRender.com.</p>
<p><img src="reference/figures/SAPA_annotated.png" width="70%"></p>
<p>Figure adapted from Jenness (2004)</p>
<ul>
<li>
<code>AdjSD</code>- This roughness metric modifies the standard deviation of elevation/bathymetry to account for slope (Ilich et al., 2023). It does this by first fitting a plane to the data in the focal window using ordinary least squares, and then extracting the residuals, and then calculating the standard deviation of the residuals within the focal window.</li>
</ul>
<p><img src="reference/figures/adj_sd.png" width="80%"></p>
<ul>
<li>
<code>RIE</code> - Calculates the Roughness Index-Elevation which quantifies the standard deviation of residual topography (Cavalli et al., 2008). This measure is conceptually similar to <code>AdjSD</code> but rather than fitting a plane and extracting residuals for the entire focal window, residual topography is calculated as the focal pixel minus the focal mean. Then the local standard deviation is calculated from this residual topography using a focal filter.</li>
</ul>
<p><img src="reference/figures/RIE.png" width="80%"></p>
<p>Figure adapted from Cavalli et al. (2008)</p>
</div>
<div class="section level3">
<h3 id="relative-position">Relative Position<a class="anchor" aria-label="anchor" href="#relative-position"></a>
</h3>
<p>Relative position represents whether an area is a local high or low in relation to a reference height. It is calculated as the value of the focal cell minus the value of a reference elevation which is often the mean of included values in the focal window but could also be other functions such as the median, min, or max of included values. Positive values indicate local topographic highs and negative values indicate lows.Relative Position can be expressed in units of the input DTM raster or can standardized relative to the local topography by dividing by the standard deviation or range of included elevation values in the focal window.</p>
<ul>
<li><p><code>RelPos</code> - A flexible and general purpose function to calculate relative position using a rectangular, circular, annulus, or custom shaped focal window and various functions of the included values as the reference height All other relative position functions are calls to <code>RelPos</code> with different default parameter values.</p></li>
<li><p><code>TPI</code> - Topographic Position Index (Weiss, 2001) is the difference between the value of a focal cell and the mean of the surrounding cells (i.e. the central cell is excluded from focal opertaions) within a rectangular or circular focal window.</p></li>
<li><p><code>DMV</code> - Difference from Mean Value (Lecours et al., 2017; Wilson, and Gallant, 2000) is the difference between the value of a focal cell and the mean of all cells (i.e. including the focal cell) in a rectangular or circular focal window.</p></li>
<li><p><code>BPI</code> - Bathymetric Position Index (Lundblad et al., 2006) is the difference between the value of a focal cell and the mean of the surrounding cells contained within an annulus shaped window. Since an annulus shaped window is used, it requires an inner and outer radius to be specified. Although the name contains “bathymetric,” that is due to the context in which it was proposed, and is equally applicable to terrestrial elevation data.</p></li>
</ul>
<p><img src="reference/figures/WindowShapes.png" width="100%"></p>
<p>Examples of different focal window shapes. Shown are a 13 x 13 cell rectangular window (left), a circular window with a radius of six cells (center), and an annulus window with an inner radius of four cells and an outer radius of six cells (right).</p>
</div>
</div>
<div class="section level2">
<h2 id="tutorial">Tutorial<a class="anchor" aria-label="anchor" href="#tutorial"></a>
</h2>
<p>In this tutorial we will calculate most terrain attributes using a 5 x 5 cell rectangular window; however, any rectangular odd numbered window size could be used. Window size is specified using the <code>w</code> parameter. Rectangular window sizes are specified with a vector of length 2 as <code>c(n_rows, n_cols)</code>. If a single number is provided it will be used for both the number of rows and columns. Functions that calculate relative position currently support other focal window shapes. In those examples, we will additionally calculate the measures using a circular focal window with a radius of 2 cells, an annulus window with an inner radius of 4 and an outer radius of 6 cells, and a custom focal window. Circular windows are specified by a single number representing the radius, annulus windows are specified with a vector of length 2 of <code>c(inner_radius, outer_radius)</code>, and custom windows are specified by a matrix with values showing which data to include (1’s) and which data to exclude (NA’s).</p>
<p><strong>Load packages</strong></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ailich.github.io/MultiscaleDTM/">MultiscaleDTM</a></span><span class="op">)</span> <span class="co">#Load MultiscaleDTM package</span></span></code></pre></div>
<p><strong>See package help page</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/help.html" class="external-link">help</a></span><span class="op">(</span>package<span class="op">=</span><span class="st">"MultiscaleDTM"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Read in Data</strong></p>
<p>Typically raster data would be loaded into R via <code>terra</code> package’s <code>rast</code> function. We will use instead load a georeferenced version of R’s built in volcano data set using the <code>erupt</code> function.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/erupt.html">erupt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-Topo-1.png"><!-- --></p>
<div class="section level3">
<h3 id="slope-aspect-and-curvature-1">Slope, Aspect, and Curvature<a class="anchor" aria-label="anchor" href="#slope-aspect-and-curvature-1"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slp_asp</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/SlpAsp.html">SlpAsp</a></span><span class="op">(</span>r <span class="op">=</span> <span class="va">r</span>, w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"degrees"</span>, method <span class="op">=</span> <span class="st">"queen"</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"slope"</span>, <span class="st">"aspect"</span>, <span class="st">"eastness"</span>, <span class="st">"northness"</span><span class="op">)</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-SlpAsp-1.png"><!-- --></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">qmetrics</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/Qfit.html">Qfit</a></span><span class="op">(</span><span class="va">r</span>, w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"degrees"</span>, metrics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"elev"</span>, <span class="st">"qslope"</span>, <span class="st">"qaspect"</span>, <span class="st">"qeastness"</span>, <span class="st">"qnorthness"</span>, <span class="st">"profc"</span>, <span class="st">"planc"</span>, <span class="st">"twistc"</span>, <span class="st">"meanc"</span>, <span class="st">"maxc"</span>, <span class="st">"minc"</span>, <span class="st">"features"</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/qmetrics.jpg" width="100%"></p>
<p>To explore these measures in an interactive environment use <code><a href="reference/explore_terrain.html">explore_terrain()</a></code> or go to this <a href="https://ailich.shinyapps.io/Terrain_Attributes_Explorer_App/" class="external-link">website</a></p>
</div>
<div class="section level3">
<h3 id="roughness-1">Roughness<a class="anchor" aria-label="anchor" href="#roughness-1"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">vrm</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/VRM.html">VRM</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-VRM-1.png"><!-- --></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sapa</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/SAPA.html">SAPA</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, slope_correction <span class="op">=</span> <span class="cn">TRUE</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-SAPA-1.png"><!-- --></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">adj_SD</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/AdjSD.html">AdjSD</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-AdjSD-1.png"><!-- --></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rie</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/RIE.html">RIE</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-RIE-1.png"><!-- --></p>
</div>
<div class="section level3">
<h3 id="relative-position-1">Relative Position<a class="anchor" aria-label="anchor" href="#relative-position-1"></a>
</h3>
<p>Note, the “s” at the start of some names indicates the attribute has been standardized based on local topography.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rp</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/RelPos.html">RelPos</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="cn">NA</span>,<span class="fl">1</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">3</span>, ncol<span class="op">=</span><span class="fl">3</span><span class="op">)</span>, shape <span class="op">=</span> <span class="st">"custom"</span>, fun <span class="op">=</span> <span class="st">"median"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-RP-1.png"><!-- --></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tpi</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/TPI.html">TPI</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, shape<span class="op">=</span> <span class="st">"rectangle"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-TPI-1.png"><!-- --></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dmv</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/DMV.html">DMV</a></span><span class="op">(</span><span class="va">r</span>, w<span class="op">=</span><span class="fl">2</span>, shape<span class="op">=</span> <span class="st">"circle"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span>, stand<span class="op">=</span><span class="st">"range"</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-DMV-1.png"><!-- --></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bpi</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/BPI.html">BPI</a></span><span class="op">(</span><span class="va">r</span>, w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"cell"</span>, stand<span class="op">=</span> <span class="st">"sd"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-BPI-1.png"><!-- --></p>
<p>Circle and annulus windows for can be specified in either cell units (number of raster cells) or in map units (e.g. meters) which can be useful if your x and y resolutions are not equal. Additionally, the function <code>circle_window</code> and <code>annulus_window</code> can be used to verify that you are specifying your window correctly (NA’s are excluded cells and 1’s are included cells) and can be directly supplied to the <code>w</code> argument instead.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/annulus_window.html">annulus_window</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"cell"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="do">##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13]</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="do">##  [1,]   NA   NA   NA   NA   NA   NA    1   NA   NA    NA    NA    NA    NA</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="do">##  [2,]   NA   NA   NA    1    1    1    1    1    1     1    NA    NA    NA</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="do">##  [3,]   NA   NA    1    1    1    1    1    1    1     1     1    NA    NA</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="do">##  [4,]   NA    1    1    1   NA   NA   NA   NA   NA     1     1     1    NA</span></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="do">##  [5,]   NA    1    1   NA   NA   NA   NA   NA   NA    NA     1     1    NA</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="do">##  [6,]   NA    1    1   NA   NA   NA   NA   NA   NA    NA     1     1    NA</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="do">##  [7,]    1    1    1   NA   NA   NA   NA   NA   NA    NA     1     1     1</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="do">##  [8,]   NA    1    1   NA   NA   NA   NA   NA   NA    NA     1     1    NA</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="do">##  [9,]   NA    1    1   NA   NA   NA   NA   NA   NA    NA     1     1    NA</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="do">## [10,]   NA    1    1    1   NA   NA   NA   NA   NA     1     1     1    NA</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="do">## [11,]   NA   NA    1    1    1    1    1    1    1     1     1    NA    NA</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="do">## [12,]   NA   NA   NA    1    1    1    1    1    1     1    NA    NA    NA</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="do">## [13,]   NA   NA   NA   NA   NA   NA    1   NA   NA    NA    NA    NA    NA</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="do">## attr(,"unit")</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="do">## [1] "cell"</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="do">## attr(,"scale")</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="do">## [1] "4x6"</span></span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a><span class="do">## attr(,"shape")</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a><span class="do">## [1] "annulus"</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bpi2</span><span class="op">&lt;-</span> <span class="fu"><a href="reference/BPI.html">BPI</a></span><span class="op">(</span><span class="va">r</span>, w <span class="op">=</span> <span class="fu"><a href="reference/annulus_window.html">annulus_window</a></span><span class="op">(</span>radius <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">6</span><span class="op">)</span>, unit <span class="op">=</span> <span class="st">"cell"</span><span class="op">)</span>, stand<span class="op">=</span> <span class="st">"sd"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># equivalent to BPI code from earlier</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h1>
<p>Cavalli, M., Tarolli, P., Marchi, L., Dalla Fontana, G., 2008. The effectiveness of airborne LiDAR data in the recognition of channel-bed morphology. CATENA 73, 249–260. <a href="https://doi.org/10.1016/j.catena.2007.11.001" class="external-link uri">https://doi.org/10.1016/j.catena.2007.11.001</a></p>
<p>Du Preez, C., 2015. A new arc–chord ratio (ACR) rugosity index for quantifying three-dimensional landscape structural complexity. Landscape Ecol 30, 181–192. <a href="https://doi.org/10.1007/s10980-014-0118-8" class="external-link uri">https://doi.org/10.1007/s10980-014-0118-8</a></p>
<p>Evans, I.S., 1980. An integrated system of terrain analysis and slope mapping. Zeitschrift f¨ur Geomorphologic Suppl-Bd 36, 274–295.</p>
<p>Fleming, M.D., Hoffer, R.M., 1979. Machine processing of landsat MSS data and DMA topographic data for forest cover type mapping (No. LARS Technical Report 062879). Laboratory for Applications of Remote Sensing, Purdue University, West Lafayette, Indiana.</p>
<p>Friedman, A., Pizarro, O., Williams, S.B., Johnson-Roberson, M., 2012. Multi-Scale Measures of Rugosity, Slope and Aspect from Benthic Stereo Image Reconstructions. PLOS ONE 7, e50440. <a href="https://doi.org/10.1371/journal.pone.0050440" class="external-link uri">https://doi.org/10.1371/journal.pone.0050440</a></p>
<p>Habib, M., 2021. Quantifying Topographic Ruggedness Using Principal Component Analysis. Advances in Civil Engineering 2021, e3311912. <a href="https://doi.org/10.1155/2021/3311912" class="external-link uri">https://doi.org/10.1155/2021/3311912</a></p>
<p>Horn, B.K., 1981. Hill Shading and the Reflectance Map. Proceedings of the IEEE 69, 14–47.</p>
<p>Ilich, A. R., Misiuk, B., Lecours, V., &amp; Murawski, S. A. (2023). MultiscaleDTM: An open-source R package for multiscale geomorphometric analysis. Transactions in GIS, 27(4). <a href="https://doi.org/10.1111/tgis.13067" class="external-link uri">https://doi.org/10.1111/tgis.13067</a></p>
<p>Jenness, J.S., 2004. Calculating landscape surface area from digital elevation models. Wildlife Society Bulletin 32, 829–839. <a href="https://doi.org/10.2193/0091-7648(2004)032%5B0829:CLSAFD%5D2.0.CO;2" class="external-link uri">https://doi.org/10.2193/0091-7648(2004)032%5B0829:CLSAFD%5D2.0.CO;2</a></p>
<p>Lecours, V., Devillers, R., Simms, A.E., Lucieer, V.L., Brown, C.J., 2017. Towards a Framework for Terrain Attribute Selection in Environmental Studies. Environmental Modelling &amp; Software 89, 19–30. <a href="https://doi.org/10.1016/j.envsoft.2016.11.027" class="external-link uri">https://doi.org/10.1016/j.envsoft.2016.11.027</a></p>
<p>Lundblad, E.R., Wright, D.J., Miller, J., Larkin, E.M., Rinehart, R., Naar, D.F., Donahue, B.T., Anderson, S.M., Battista, T., 2006. A benthic terrain classification scheme for American Samoa. Marine Geodesy 29, 89–111. <a href="https://doi.org/10.1080/01490410600738021" class="external-link uri">https://doi.org/10.1080/01490410600738021</a></p>
<p>Minár, J., Evans, I.S., Jenčo, M., 2020. A comprehensive system of definitions of land surface (topographic) curvatures, with implications for their application in geoscience modelling and prediction. Earth-Science Reviews 211, 103414. <a href="https://doi.org/10.1016/j.earscirev.2020.103414" class="external-link uri">https://doi.org/10.1016/j.earscirev.2020.103414</a></p>
<p>Misiuk, B., Lecours, V., Dolan, M.F.J., Robert, K., 2021. Evaluating the Suitability of Multi-Scale Terrain Attribute Calculation Approaches for Seabed Mapping Applications. Marine Geodesy 44, 327–385. <a href="https://doi.org/10.1080/01490419.2021.1925789" class="external-link uri">https://doi.org/10.1080/01490419.2021.1925789</a></p>
<p>Risk, M.J., 1972. Fish Diversity on a Coral Reef in the Virgin Islands. Atoll Research Bulletin 153, 1–4. <a href="https://doi.org/10.5479/si.00775630.153.1" class="external-link uri">https://doi.org/10.5479/si.00775630.153.1</a></p>
<p>Ritter, P., 1987. A vector-based slope and aspect generation algorithm. Photogrammetric Engineering and Remote Sensing 53, 1109–1111.</p>
<p>Sappington, J.M., Longshore, K.M., Thompson, D.B., 2007. Quantifying Landscape Ruggedness for Animal Habitat Analysis: A Case Study Using Bighorn Sheep in the Mojave Desert. The Journal of Wildlife Management 71, 1419–1426. <a href="https://doi.org/10.2193/2005-723" class="external-link uri">https://doi.org/10.2193/2005-723</a></p>
<p>Walbridge, S., Slocum, N., Pobuda, M., Wright, D.J., 2018. Unified geomorphological analysis workflows with benthic terrain modeler. Geosciences 8, 94. <a href="https://doi.org/10.3390/geosciences8030094" class="external-link uri">https://doi.org/10.3390/geosciences8030094</a></p>
<p>Weiss, A., 2001. Topographic Position and Landforms Analysis. Presented at the ESRI user conference, San Diego, CA.</p>
<p>Wilson, J.P., Gallant, J.C. (Eds.), 2000. Terrain Analysis: Principles and Applications. John Wiley &amp; Sons, Inc.</p>
<p>Wilson, M.F., O’Connell, B., Brown, C., Guinan, J.C., Grehan, A.J., 2007. Multiscale Terrain Analysis of Multibeam Bathymetry Data for Habitat Mapping on the Continental Slope. Marine Geodesy 30, 3-35. <a href="https://doi.org/10.1080/01490410701295962" class="external-link uri">https://doi.org/10.1080/01490410701295962</a></p>
<p>Wood, J., 1996. The geomorphological characterisation of digital elevation models (Ph.D.). University of Leicester.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=MultiscaleDTM" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ailich/MultiscaleDTM/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ailich/MultiscaleDTM/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing MultiscaleDTM</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alexander Ilich <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1758-8499" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Vincent Lecours <br><small class="roles"> Author </small>  </li>
<li>Benjamin Misiuk <br><small class="roles"> Author </small>  </li>
<li>Steven Murawski <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ailich/MultiscaleDTM/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ailich/MultiscaleDTM/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://cran.r-project.org/package=MultiscaleDTM" class="external-link"><img src="https://www.r-pkg.org/badges/version/MultiscaleDTM" alt="CRAN"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0" class="external-link"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPLv3"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/353158828" class="external-link"><img src="https://zenodo.org/badge/353158828.svg" alt="DOI"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alexander Ilich, Vincent Lecours, Benjamin Misiuk, Steven Murawski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
